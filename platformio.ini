; =====================
; Shared base (all props inherit from this)
; =====================
[env]
platform = espressif32
board = fm-devkit
framework = arduino
lib_deps =
  knolleary/PubSubClient
  bblanchon/ArduinoJson
monitor_speed = 115200

; =====================
; Props — USB flash
; =====================
; Usage: pio run -e <prop> --target upload

[env:magie_roueFortune]
build_flags = -DPROP_CONFIG=\"props/magie_roueFortune.h\"

[env:magie_test_magnet]
build_flags = -DPROP_CONFIG=\"props/magie_test_magnet.h\"

; =====================
; Props — OTA flash (WiFi)
; =====================
; Usage: pio run -e <prop>-ota --target upload

[env:magie_roueFortune-ota]
extends = env:magie_roueFortune
upload_protocol = espota
upload_port = 192.168.1.193
upload_flags =
  --auth=escapeyourself

[env:magie_test_magnet-ota]
extends = env:magie_test_magnet
upload_protocol = espota
upload_port = 192.168.1.102
upload_flags =
  --auth=escapeyourself
